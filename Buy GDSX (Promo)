<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üíé GDSX PROMO ‚Äî 1 USDT = 10 GDSX</title>
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
<style>
:root { --gold:#ffd700; --neon:#00ffd5; }
body {
  background: radial-gradient(circle at top, #000 40%, #111 100%);
  color: white;
  text-align: center;
  font-family: "Poppins","Noto Sans Thai",sans-serif;
  min-height: 100vh;
  margin: 0;
  padding-top: 50px;
}
h1 {
  color: var(--gold);
  text-shadow: 0 0 25px var(--gold), 0 0 45px #ffb700;
  font-size: 2.2em;
}
p { font-size: 1.1em; }
button {
  padding: 12px 25px;
  border: none;
  border-radius: 8px;
  margin: 10px;
  font-size: 1.05em;
  cursor: pointer;
  font-weight: bold;
}
.connect { background: var(--neon); color: #000; }
.buy { background: var(--gold); color: #000; }
input {
  padding: 10px; width: 140px;
  text-align: center; border-radius: 6px;
  border: 1px solid var(--neon);
  background: #111; color: white;
}
#status { margin-top: 20px; color: var(--neon); }
</style>
</head>
<body>

<h1>üíé GDSX PROMO EXCHANGE</h1>
<p>üî• ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©: <b>1 USDT = 10 GDSX</b> üî•</p>

<input id="amount" type="number" placeholder="Amount (USDT)">
<br>
<button class="connect" onclick="connectWallet()">üîó Connect Wallet</button>
<button class="buy" onclick="buyGDSX()">üí∞ Buy GDSX (Promo)</button>

<p id="status"></p>

<script>
const CONTRACT = "0x371D09f61ad2FeE534e2866b11B668020D7AcF9d";
const USDT = "0x55d398326f99059fF775485246999027B3197955"; // BSC USDT

const ABI = [
  "function swapUSDTforGDSX(uint256 usdtAmount) external",
  "function promoRate() view returns(uint256)"
];

let provider, signer, contract;

async function connectWallet(){
  if(window.ethereum){
    await ethereum.request({method:"eth_requestAccounts"});
    provider = new ethers.providers.Web3Provider(window.ethereum);
    signer = provider.getSigner();
    contract = new ethers.Contract(CONTRACT, ABI, signer);
    document.getElementById("status").innerText = "‚úÖ Wallet Connected";
  } else {
    alert("Please install MetaMask!");
  }
}

async function buyGDSX(){
  const amount = document.getElementById("amount").value;
  if(!amount) return alert("Enter USDT amount");

  const usdt = new ethers.Contract(USDT, ["function approve(address,uint256) external returns (bool)"], signer);
  const value = ethers.utils.parseUnits(amount, 18);

  // 1Ô∏è‚É£ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏´‡πâ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡πÉ‡∏ä‡πâ USDT
  const approveTx = await usdt.approve(CONTRACT, value);
  document.getElementById("status").innerText = "‚è≥ Approving USDT...";
  await approveTx.wait();

  // 2Ô∏è‚É£ ‡πÅ‡∏•‡∏Å USDT ‚Üí GDSX
  const tx = await contract.swapUSDTforGDSX(value);
  document.getElementById("status").innerText = "‚è≥ Swapping...";
  await tx.wait();

  document.getElementById("status").innerText = "‚úÖ Success! You received GDSX (Promo)";
}
</script>

</body>
</html>
